{% extends "layout.html" %}
{% load i18n %}
{% load modal_data_tags %}
{% block title %}Phương Thức Thanh Toán{% endblock title %}

{% block extrastylesheet %}
 <!-- Payment and payment_return -->
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}assets/websites/css/metiz_payment.css" media="all" />
{% endblock %}

{% block extrascript %}
    <script src="{{ STATIC_URL }}assets/websites/js/metiz_payment.js"></script>
{% endblock %}

{% block main_content %}
<div class="main metiz_payment">
    <div class="page-title">
        <h1>Thanh Toán</h1>
    </div>

    <div class="notes">
        <p><strong>Lưu ý</strong>: Thời gian giao dịch cho phép tối đa là 10 phút. Hết thời gian quy định giao dịch này sẽ bị hủy.</p>
    </div>
        
    <form action="{% url 'payment-generate-otp' %}" id="metiz_payment_form" method="post">
        {% csrf_token %}

        <div class="metiz-payment-form col-xs-12 col-md-7">
            <h3>Thanh toán qua thẻ {% if payment_gate == "Metiz_Payment_Card" %} Metiz {% else %} Helio {% endif %}</h3>
            <!-- get id_server -->
            <input type="hidden" id="payment_gate" name="payment_gate" value="{{payment_gate}}" />
            <input type="hidden" id="order_id" name="order_id" value="{% get_unique_datetime %}" />
            <input type="hidden" name="id_server" id="id_server" value="{{id_server}}"> 
            <input type="hidden" name="working_id" id="working_id" value="{{working_id}}"> 
            <input type="hidden" name="barcode" id="barcode" value="{{barcode}}"> 
            <input type="hidden" name="seats_choice" id="seats_choice" value="{{seats_choice}}"> 
            <input type="hidden" name="movie_poster" id="movie_poster" value="{{movie_poster}}" >
            
            <!-- get id showtime -->
            <input type="hidden" name="id_showtime" id="id_showtime" value="{{id_showtime}}">
            <!-- get id movie api -->
            <input type="hidden" name="movie_api_id" id="movie_api_id" value="{{movie_api_id}}">

            <input type="hidden" id="order_desc" name="order_desc" value="{{ order_desc }}">

            
            <div class="form-group">
                <input type="text" name="card_barcode" id="card_barcode" placeholder="{% trans 'Enter Card Barcode Here' %}" class="form-control">
                <label class="form-error" for="card_barcode" id='car-barcode-error'></label>
            </div>

            <div class="form-group">
                <input type="text" name="full_name" id="full_name" class="form-control" placeholder="{% trans 'Enter Full Name Here' %}">
                <label class="form-error" for="full_name" id='name-error'></label>
            </div>
            {% if card_error %}
                <p class="msg_error">{{card_error}}</p>
            {% endif %}

            <p><button class="btn" id="btn-payment-continute">XÁC THỰC</button></p>
            <p class="or_center-button"><span>Hoặc</span></p>
            <p><button class="btn" id="btn-payment-cancel">HUỶ</button></p>
        </div>
    </form>
</div>

{% endblock %}
